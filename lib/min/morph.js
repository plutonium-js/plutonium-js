/*
 * Plutonium React-State-Animator v1.0.3
 * (c) 2019 Jesse Dalessio
 * Released under the MIT license
*/
PU_Animator.prototype.morph=function(r){var t=void 0,n="V",e="H",a="L",i="Z",o="M",f="C",l="S",u="Q",c="T",v="A",s=" ",h=r.util;var g=Math,p=g.abs,d=g.min,y=g.max,x=g.floor,m=g.sqrt,z=g.cos,A=g.asin,w=g.sin,P=g.tan,L=g.PI,C=2/3;function M(r,t){for(var n in t)r.hasOwnProperty(n)||(r[n]=t[n]);return r}function V(r){return new(window.Float32Array?Float32Array:Array)(r)}function q(r){var n,e,a=r.slice(2),i=a.length,o=0;for(let r=0;r<i;r+=6){var f=a[r],l=a[r+1],u=h.getPointDist(0,0,f,l);(e===t||u<e)&&(e=u,n=r);var c=(r+6)%i,v=a[c];o+=f*a[c+1],o-=v*l}!function(r,t){var n,e=r.length,a=e-t,i=V(t);for(n=0;n<t;n++)i[n]=r[n];for(n=t;n<e;n++)r[n-t]=r[n];for(n=0;n<t;n++)r[a+n]=i[n]}(a,n),r[0]=a[i-2],r[1]=a[i-1];for(let t=0;t<i;t++)r[t+2]=a[t];o/2>0||function(r){var t=[],n=r[0],e=r[1];for(let a=2;a<r.length;a+=6)t.unshift(r[a+2],r[a+3],r[a],r[a+1],n,e),n=r[a+4],e=r[a+5];t.unshift(r[0],r[1]);for(let n=0;n<t.length;n++)r[n]=t[n]}(r)}function $(r,t){var n=t-r.length,e=Math.ceil(n/r.length),a=V(t);a[0]=r[0],a[1]=r[1];for(var i=1,o=1;o<t-1;){a[++o]=r[++i],a[++o]=r[++i],a[++o]=r[++i],a[++o]=r[++i];var f=a[++o]=r[++i],l=a[++o]=r[++i];if(n)for(var u=0;u<=e&&n;u++)a[o+5]=a[o+3]=a[o+1]=f,a[o+6]=a[o+4]=a[o+2]=l,o+=6,n-=6}return a}function D(r,t){return t.p-r.p}function F(r,t,n){var e=H(r),a=H(t);e.length!==a.length&&function r(t,n,e){var a=t.length,i=n.length;if(a<i)return r(n,t,e);n.length=a;for(var o=i;o<a;o++){for(var f=t[o],l=V(f.d.length),u=0;u<f.d.length;u+=2)l[u]=f.x+f.w/2,l[u+1]=f.y+f.h/2;n[o]=M({d:l},f)}}(e,a,n.origin);var i=Array(2);i[0]=e.map(Q),i[1]=a.map(Q);for(var o=0;o<e.length;o++)(e[o].z||a[o].z)&&(q(i[0][o]),q(i[1][o]));return function(r,t){for(var n=r[0].length,e=0;e<n;e++){var a=r[0][e],i=r[1][e],o=y(a.length+t,i.length+t);r[0][e]=$(a,o),r[1][e]=$(i,o)}}(i,6*n.addPoints),i}function H(r){return r.data.slice().sort(D)}function Q(r){return r.d}var S={addPoints:0,origin:{x:0,y:0}};function T(r,t){t=M(t,S);for(var n=r.length-1,e=Array(n),a=0;a<n;a++)e[a]=Z(r[a],r[a+1],t);return function(r){return function(r,t){var n=r.ns;if("string"==typeof n)return n;for(var e=[],a=0;a<n.length;a++){var l=n[a];e.push(o,t(l[0]),t(l[1]),f);for(var u=void 0,c=2;c<l.length;c+=6){var v=t(l[c]),h=t(l[c+1]),g=t(l[c+2]),p=t(l[c+3]),d=t(l[c+4]),y=t(l[c+5]);v===d&&g===d&&h===y&&p===y&&u===(u=""+v+h+g+p+d+y)||e.push(v,h,g,p,d,y)}r.z[a]&&e.push(i)}return e.join(s)}(e[0](r),U)}}function U(r){return h.round(r,6)}function Z(r,t,n,e){var a=F(r,t,n),i=a[0].length;return function(n){for(var e=Array(i),o=Array(i),f=0;f<i;f++){o[f]=b(a[0][f],a[1][f],n);var l=r.data[f]?r.data[f].z:t.data[f]?t.data[f].z:null;e[f]=l}return{ns:o,z:e}}}function b(t,n,e){for(var a=t.length,i=V(a),o=0;o<a;o++){let a=r.tween({startVal:t[o],endVal:n[o],timing:e.timing,time:e.time,duration:e.duration});i[o]=a}return i}function j(r,n){return r===t?n:r}var E=120*L/180,I=2*L;function O(r,t,n,e,a,i,o,f,l,u,c,v,s){if(n<=0||e<=0)return[r,t,f,l,f,l];var h,g=L/180*(+a||0),d=z(g),y=w(g),x=!!u;if(!x){var C=r,M=f,V=((r=C*d-t*-y)-(f=M*d-l*-y))/2,q=((t=C*-y+t*d)-(l=M*-y+l*d))/2,$=V*V/(n*n)+q*q/(e*e);$>1&&(n*=$=m($),e*=$);var D=(i===o?-1:1)*m(p((n*n*e*e-n*n*q*q-e*e*V*V)/(n*n*q*q+e*e*V*V)));v=D*n*q/e+(r+f)/2,u=A((t-(s=D*-e*V/n+(t+l)/2))/e),c=A((l-s)/e),r<v&&(u=L-u),f<v&&(c=L-c),u<0&&(u+=I),c<0&&(c+=I),o&&u>c&&(u-=I),!o&&c>u&&(c-=I)}if(p(c-u)>E){var F=c,H=f,Q=l;h=O(f=v+n*z(c=u+E*(o&&c>u?1:-1)),l=s+e*w(c),n,e,a,0,o,H,Q,c,F,v,s)}else h=[];var S=4/3*P((c-u)/4);if(h.splice(0,0,2*r-(r+S*n*w(u)),2*t-(t-S*e*z(u)),f+S*n*w(c),l-S*e*z(c),f,l),!x)for(var T=0,U=h.length;T<U;T+=2){var Z=h[T],b=h[T+1];h[T]=Z*d-b*y,h[T+1]=Z*y+b*d}return h}var _={M:2,H:1,V:1,L:2,Z:0,C:6,S:4,Q:4,T:2,A:7};function k(r,t,n,e,a,i,o){var f=r.x,l=r.y;r.x=j(i,f),r.y=j(o,l),r.p.push(j(t,f),n=j(n,l),e=j(e,f),a=j(a,l),r.x,r.y),r.lc=r.c}function B(r){var t=r.c,a=r.t,i=r.x,o=r.y;if(t===n)a[0]+=o;else if(t===e)a[0]+=i;else if(t===v)a[5]+=i,a[6]+=o;else for(var f=0;f<a.length;f+=2)a[f]+=i,a[f+1]+=o}function G(r,t){return 0===t?r:+r}function J(r){for(var g={x:0,y:0,s:[],z:[]},p=function(r){r=r.replace(/[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)/g,function(r){return h.round(r,6)}).replace(/[\^\s]*([mhvlzcsqta]|-?\d*\.?\d+)[,$\s]*/gi," $1").replace(/([mhvlzcsqta])/gi," $1").trim().split("  ");for(var t=0;t<r.length;t++){var n=r[t].split(s).map(G),e=n[0];if(/m/i.test(e)){for(var a=e.toLowerCase(),i=1,o=3;o<n.length;o+=2){var f=(a===e?"l":"L")+" "+n[o]+" "+n[o+1];r.splice(t+i,0,f),i++}n=n.slice(0,3)}r[t]=n}return r}(r),d=0;d<p.length;d++){var y=p[d],x=y[0],m=x.toUpperCase(),z=m!==i&&m!==x;g.c=m;var A=_[m],w=y,P=1;do{g.t=1===w.length?w:w.slice(P,P+A),z&&B(g);var L=g.t,M=g.x,V=g.y,q=void 0,$=void 0,D=void 0,F=void 0,H=void 0,Q=void 0;if(m===o)g.s.push(g.p=[g.x=L[0],g.y=L[1]]),g.z.push(0);else if(m===e)k(g,t,t,t,t,L[0],t);else if(m===n)k(g,t,t,t,t,t,L[0]);else if(m===a)k(g,t,t,t,t,L[0],L[1]);else if(m===i)k(g,t,t,t,t,g.p[0],g.p[1]),g.z[g.z.length-1]=1;else if(m===f)k(g,L[0],L[1],L[2],L[3],L[4],L[5]),g.cx=L[2],g.cy=L[3];else if(m===l){var S=g.lc!==l&&g.lc!==f;k(g,q=S?t:2*M-g.cx,$=S?t:2*V-g.cy,L[0],L[1],L[2],L[3]),g.cx=L[0],g.cy=L[1]}else if(m===u){var T=L[0],U=L[1];D=L[2],F=L[3],k(g,M+(T-M)*C,V+(U-V)*C,D+(T-D)*C,F+(U-F)*C,D,F),g.cx=T,g.cy=U}else if(m===c)D=L[0],F=L[1],g.lc===u||g.lc===c?(q=M+(2*M-g.cx-M)*C,$=V+(2*V-g.cy-V)*C,H=D+(2*M-g.cx-D)*C,Q=F+(2*V-g.cy-F)*C):(q=H=M,$=Q=V),k(g,q,$,H,Q,D,F),g.cx=H,g.cy=Q;else if(m===v)for(var Z=O(M,V,L[0],L[1],L[2],L[3],L[4],L[5],L[6]),b=0;b<Z.length;b+=6)k(g,Z[b],Z[b+1],Z[b+2],Z[b+3],Z[b+4],Z[b+5]);P+=A}while(P<w.length)}return g}function K(r){for(var t=r.length,n=r[t-2],e=r[t-1],a=0,i=0;i<t;i+=6)a+=h.getPointDist(r[i],r[i+1],n,e),n=r[i],e=r[i+1];return x(a)}this.parsePath=function(r){try{for(var t=J(r),n=t.s,e=0;e<n.length;e++){for(var a=n[e],i=a[0],o=a[1],f=o,l=i,u=2;u<a.length;u+=6){var c=a[u+4],v=a[u+5];i=d(i,c),l=y(l,c),o=d(o,v),f=y(f,v)}n[e]={d:a,x:i,y:o,w:l-i,h:f-o,p:K(a),z:t.z[e]}}return{path:r.trim(),data:n}}catch(r){h.errorLog.log({code:3,error:r,msg:"cannot parse path - "+r})}},this.interpolate=function(r,t){return T(r,t||{})}};