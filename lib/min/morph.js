/*
 * Plutonium-js v1.0.7
 * (c) 2019 Jesse Dalessio
 * Released under the MIT license
*/
Plutonium.prototype.morph=function(r){var n=void 0,t="V",e="H",a="L",i="Z",o="M",f="C",l="S",u="Q",c="T",v="A",s=" ",h=r.util;var g=Math,p=g.abs,d=g.min,y=g.max,x=g.floor,z=g.sqrt,m=g.pow,w=g.cos,A=g.asin,P=g.sin,L=g.tan,C=g.PI,M=2/3,q=m(2,-52);function $(r,n){for(var t in n)r.hasOwnProperty(t)||(r[t]=n[t]);return r}function D(r){return new(window.Float32Array?Float32Array:Array)(r)}function F(r){var t,e,a=r.slice(2),i=a.length,o=0;for(let r=0;r<i;r+=6){var f=a[r],l=a[r+1],u=h.getPointDist(0,0,f,l);(e===n||u<e)&&(e=u,t=r);var c=(r+6)%i,v=a[c];o+=f*a[c+1],o-=v*l}!function(r,n){var t,e=r.length,a=e-n,i=D(n);for(t=0;t<n;t++)i[t]=r[t];for(t=n;t<e;t++)r[t-n]=r[t];for(t=0;t<n;t++)r[a+t]=i[t]}(a,t),r[0]=a[i-2],r[1]=a[i-1];for(let n=0;n<i;n++)r[n+2]=a[n];o/2>0||function(r){var n=[],t=r[0],e=r[1];for(let a=2;a<r.length;a+=6)n.unshift(r[a+2],r[a+3],r[a],r[a+1],t,e),t=r[a+4],e=r[a+5];n.unshift(r[0],r[1]);for(let t=0;t<n.length;t++)r[t]=n[t]}(r)}function H(r,n){var t=n-r.length,e=Math.ceil(t/r.length),a=D(n);a[0]=r[0],a[1]=r[1];for(var i=1,o=1;o<n-1;){a[++o]=r[++i],a[++o]=r[++i],a[++o]=r[++i],a[++o]=r[++i];var f=a[++o]=r[++i],l=a[++o]=r[++i];if(t)for(var u=0;u<=e&&t;u++)a[o+5]=a[o+3]=a[o+1]=f,a[o+6]=a[o+4]=a[o+2]=l,o+=6,t-=6}return a}function Q(r,n){return n.p-r.p}function S(r,n,t){var e=T(r),a=T(n);e.length!==a.length&&function r(n,t,e){var a=n.length,i=t.length;if(a<i)return r(t,n,e);t.length=a;for(var o=i;o<a;o++){for(var f=n[o],l=D(f.d.length),u=0;u<f.d.length;u+=2)l[u]=f.x+f.w/2,l[u+1]=f.y+f.h/2;t[o]=$({d:l},f)}}(e,a,t.origin);var i=Array(2);i[0]=e.map(V),i[1]=a.map(V);for(var o=0;o<e.length;o++)(e[o].z||a[o].z)&&(F(i[0][o]),F(i[1][o]));return function(r,n){for(var t=r[0].length,e=0;e<t;e++){var a=r[0][e],i=r[1][e],o=y(a.length+n,i.length+n);r[0][e]=H(a,o),r[1][e]=H(i,o)}}(i,6*t.addPoints),i}function T(r){return r.data.slice().sort(Q)}function V(r){return r.d}var Z={addPoints:0,origin:{x:0,y:0}};function b(r,n){n=$(n,Z);for(var t=r.length-1,e=Array(t),a=0;a<t;a++)e[a]=E(r[a],r[a+1],n);return function(r){var n=t*r,a=d(x(n),t-1);return function(r,n){var t=r.ns;if("string"==typeof t)return t;for(var e=[],a=0;a<t.length;a++){var l=t[a];e.push(o,n(l[0]),n(l[1]),f);for(var u=void 0,c=2;c<l.length;c+=6){var v=n(l[c]),h=n(l[c+1]),g=n(l[c+2]),p=n(l[c+3]),d=n(l[c+4]),y=n(l[c+5]);v===d&&g===d&&h===y&&p===y&&u===(u=""+v+h+g+p+d+y)||e.push(v,h,g,p,d,y)}r.z[a]&&e.push(i)}return e.join(s)}(e[a]((n-a)/(a+1)),j)}}function j(r){return h.round(r,6)}function E(r,n,t,e){var a=S(r,n,t),i=a[0].length;return function(t){if(p(t-0)<q)return{ns:r.path};if(p(t-1)<q)return{ns:n.path};for(var e=Array(i),o=Array(i),f=0;f<i;f++){o[f]=I(a[0][f],a[1][f],t);var l=r.data[f]?r.data[f].z:n.data[f]?n.data[f].z:null;e[f]=l}return{ns:o,z:e}}}function I(r,n,t){for(var e=r.length,a=D(e),i=0;i<e;i++)a[i]=r[i]+(n[i]-r[i])*t;return a}function O(r,t){return r===n?t:r}var U=120*C/180,k=2*C;function B(r,n,t,e,a,i,o,f,l,u,c,v,s){if(t<=0||e<=0)return[r,n,f,l,f,l];var h,g=C/180*(+a||0),d=w(g),y=P(g),x=!!u;if(!x){var m=r,M=f,q=((r=m*d-n*-y)-(f=M*d-l*-y))/2,$=((n=m*-y+n*d)-(l=M*-y+l*d))/2,D=q*q/(t*t)+$*$/(e*e);D>1&&(t*=D=z(D),e*=D);var F=(i===o?-1:1)*z(p((t*t*e*e-t*t*$*$-e*e*q*q)/(t*t*$*$+e*e*q*q)));v=F*t*$/e+(r+f)/2,u=A((n-(s=F*-e*q/t+(n+l)/2))/e),c=A((l-s)/e),r<v&&(u=C-u),f<v&&(c=C-c),u<0&&(u+=k),c<0&&(c+=k),o&&u>c&&(u-=k),!o&&c>u&&(c-=k)}if(p(c-u)>U){var H=c,Q=f,S=l;h=B(f=v+t*w(c=u+U*(o&&c>u?1:-1)),l=s+e*P(c),t,e,a,0,o,Q,S,c,H,v,s)}else h=[];var T=4/3*L((c-u)/4);if(h.splice(0,0,2*r-(r+T*t*P(u)),2*n-(n-T*e*w(u)),f+T*t*P(c),l-T*e*w(c),f,l),!x)for(var V=0,Z=h.length;V<Z;V+=2){var b=h[V],j=h[V+1];h[V]=b*d-j*y,h[V+1]=b*y+j*d}return h}var G={M:2,H:1,V:1,L:2,Z:0,C:6,S:4,Q:4,T:2,A:7};function J(r,n,t,e,a,i,o){var f=r.x,l=r.y;r.x=O(i,f),r.y=O(o,l),r.p.push(O(n,f),t=O(t,l),e=O(e,f),a=O(a,l),r.x,r.y),r.lc=r.c}function K(r){var n=r.c,a=r.t,i=r.x,o=r.y;if(n===t)a[0]+=o;else if(n===e)a[0]+=i;else if(n===v)a[5]+=i,a[6]+=o;else for(var f=0;f<a.length;f+=2)a[f]+=i,a[f+1]+=o}function N(r,n){return 0===n?r:+r}function R(r){for(var g={x:0,y:0,s:[],z:[]},p=function(r){r=r.replace(/[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)/g,function(r){return h.round(r,6)}).replace(/[\^\s]*([mhvlzcsqta]|-?\d*\.?\d+)[,$\s]*/gi," $1").replace(/([mhvlzcsqta])/gi," $1").trim().split("  ");for(var n=0;n<r.length;n++){var t=r[n].split(s).map(N),e=t[0];if(/m/i.test(e)){for(var a=e.toLowerCase(),i=1,o=3;o<t.length;o+=2){var f=(a===e?"l":"L")+" "+t[o]+" "+t[o+1];r.splice(n+i,0,f),i++}t=t.slice(0,3)}r[n]=t}return r}(r),d=0;d<p.length;d++){var y=p[d],x=y[0],z=x.toUpperCase(),m=z!==i&&z!==x;g.c=z;var w=G[z],A=y,P=1;do{g.t=1===A.length?A:A.slice(P,P+w),m&&K(g);var L=g.t,C=g.x,q=g.y,$=void 0,D=void 0,F=void 0,H=void 0,Q=void 0,S=void 0;if(z===o)g.s.push(g.p=[g.x=L[0],g.y=L[1]]),g.z.push(0);else if(z===e)J(g,n,n,n,n,L[0],n);else if(z===t)J(g,n,n,n,n,n,L[0]);else if(z===a)J(g,n,n,n,n,L[0],L[1]);else if(z===i)J(g,n,n,n,n,g.p[0],g.p[1]),g.z[g.z.length-1]=1;else if(z===f)J(g,L[0],L[1],L[2],L[3],L[4],L[5]),g.cx=L[2],g.cy=L[3];else if(z===l){var T=g.lc!==l&&g.lc!==f;J(g,$=T?n:2*C-g.cx,D=T?n:2*q-g.cy,L[0],L[1],L[2],L[3]),g.cx=L[0],g.cy=L[1]}else if(z===u){var V=L[0],Z=L[1];F=L[2],H=L[3],J(g,C+(V-C)*M,q+(Z-q)*M,F+(V-F)*M,H+(Z-H)*M,F,H),g.cx=V,g.cy=Z}else if(z===c)F=L[0],H=L[1],g.lc===u||g.lc===c?($=C+(2*C-g.cx-C)*M,D=q+(2*q-g.cy-q)*M,Q=F+(2*C-g.cx-F)*M,S=H+(2*q-g.cy-H)*M):($=Q=C,D=S=q),J(g,$,D,Q,S,F,H),g.cx=Q,g.cy=S;else if(z===v)for(var b=B(C,q,L[0],L[1],L[2],L[3],L[4],L[5],L[6]),j=0;j<b.length;j+=6)J(g,b[j],b[j+1],b[j+2],b[j+3],b[j+4],b[j+5]);P+=w}while(P<A.length)}return g}function W(r){for(var n=r.length,t=r[n-2],e=r[n-1],a=0,i=0;i<n;i+=6)a+=h.getPointDist(r[i],r[i+1],t,e),t=r[i],e=r[i+1];return x(a)}this.parsePath=function(r){try{for(var n=R(r),t=n.s,e=0;e<t.length;e++){for(var a=t[e],i=a[0],o=a[1],f=o,l=i,u=2;u<a.length;u+=6){var c=a[u+4],v=a[u+5];i=d(i,c),l=y(l,c),o=d(o,v),f=y(f,v)}t[e]={d:a,x:i,y:o,w:l-i,h:f-o,p:W(a),z:n.z[e]}}return{path:r.trim(),data:t}}catch(r){h.errorLog.log({code:3,error:r,msg:"cannot parse path - "+r})}},this.interpolate=function(r,n){return b(r,n||{})}};